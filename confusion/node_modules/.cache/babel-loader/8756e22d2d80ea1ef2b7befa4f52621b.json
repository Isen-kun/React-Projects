{"ast":null,"code":"import*as ActionTypes from\"./ActionTypes\";import{baseUrl}from\"../shared/baseUrl\";export var addComment=function addComment(comment){return{type:ActionTypes.ADD_COMMENT,payload:comment};};export var postComment=function postComment(dishId,rating,author,comment){return function(dispatch){var newComment={dishId:dishId,rating:rating,author:author,comment:comment};newComment.date=new Date().toISOString();return fetch(baseUrl+\"comments\",{method:\"POST\",body:JSON.stringify(newComment),headers:{\"Content-Type\":\"application/json\"},credentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \"+response.status+\": \"+response.statusText);error.response=response;throw error;}},function(error){var err=new Error(error.message);throw err;}).then(function(response){return response.json();}).then(function(response){return dispatch(addComment(response));}).catch(function(error){console.log(\"post comments\",error.message);alert(\"Your comment could not be posted\\nError: \"+error.message);});};};export var postFeedback=function postFeedback(firstname,lastname,telnum,email,agree,contactType,message){return function(dispatch){var newFeedback={firstname:firstname,lastname:lastname,telnum:telnum,email:email,agree:agree,contactType:contactType,message:message};newFeedback.date=new Date().toISOString();return fetch(baseUrl+\"feedback\",{method:\"POST\",body:JSON.stringify(newFeedback),headers:{\"Content-type\":\"application/json\"},credentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \"+response.status+\":\"+response.statusText);error.response=response;throw error;}},function(error){var err=new Error(error.message);throw err;}).then(function(response){return response.json();}).catch(function(error){console.log(\"Post Feedback\",error.message);alert(\"Your comment could not be posted\\n error: \"+error.message);});};};export var fetchDishes=function fetchDishes(){return function(dispatch){dispatch(dishesLoading(true));return fetch(baseUrl+\"dishes\").then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \"+response.status+\": \"+response.statusText);error.response=response;throw error;}},function(error){var err=new Error(error.message);throw err;}).then(function(response){return response.json();}).then(function(dishes){return dispatch(addDishes(dishes));}).catch(function(error){dispatch(dishesFailed(error.message));});};};export var dishesLoading=function dishesLoading(){return{type:ActionTypes.DISHES_LOADING};};export var dishesFailed=function dishesFailed(err){return{type:ActionTypes.DISHES_FAILED,payload:err};};export var fetchPromos=function fetchPromos(){return function(dispatch){dispatch(promosLoading(true));return fetch(baseUrl+\"promotions\").then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \"+response.status+\":\"+response.statusText);error.response=response;throw error;}},function(error){var err=new Error(error.message);throw err;}).then(function(response){return response.json();}).then(function(promos){return dispatch(addPromos(promos));}).catch(function(error){return dispatch(promosFailed(error.message));});};};export var promosLoading=function promosLoading(){return{type:ActionTypes.PROMOS_LOADING};};export var promosFailed=function promosFailed(err){return{type:ActionTypes.PROMOS_FAILED,payload:err};};export var commentsFailed=function commentsFailed(err){return{type:ActionTypes.COMMENTS_FAILED,payload:err};};export var fetchComments=function fetchComments(){return function(dispatch){return fetch(baseUrl+\"comments\").then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \"+response.status+\":\"+response.statusText);error.response=response;throw error;}},function(error){var err=new Error(error.message);throw err;}).then(function(response){return response.json();}).then(function(comments){return dispatch(addComments(comments));}).catch(function(error){return dispatch(commentsFailed(error.message));});};};export var addComments=function addComments(comments){return{type:ActionTypes.ADD_COMMENTS,payload:comments};};export var addDishes=function addDishes(dishes){return{type:ActionTypes.ADD_DISHES,payload:dishes};};export var addPromos=function addPromos(promos){return{type:ActionTypes.ADD_PROMOS,payload:promos};};export var fetchLeaders=function fetchLeaders(){return function(dispatch){dispatch(leadersLoading(true));return fetch(baseUrl+\"leaders\").then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \"+response.status+\":\"+response.statusText);error.response=response;throw error;}},function(error){var err=new Error(error.message);throw err;}).then(function(response){return response.json();}).then(function(dishes){return dispatch(addLeaders(dishes));}).catch(function(error){dispatch(leadersFailed(error.message));});};};export var leadersLoading=function leadersLoading(){return{type:ActionTypes.LEADERS_LOADING};};export var leadersFailed=function leadersFailed(err){return{type:ActionTypes.LEADERS_FAILED,payload:err};};export var addLeaders=function addLeaders(leaders){return{type:ActionTypes.ADD_LEADERS,payload:leaders};};","map":{"version":3,"sources":["D:/Progs/Github Repos/React-Projects/confusion/src/redux/ActionCreators.js"],"names":["ActionTypes","baseUrl","addComment","comment","type","ADD_COMMENT","payload","postComment","dishId","rating","author","dispatch","newComment","date","Date","toISOString","fetch","method","body","JSON","stringify","headers","credentials","then","response","ok","error","Error","status","statusText","err","message","json","catch","console","log","alert","postFeedback","firstname","lastname","telnum","email","agree","contactType","newFeedback","fetchDishes","dishesLoading","dishes","addDishes","dishesFailed","DISHES_LOADING","DISHES_FAILED","fetchPromos","promosLoading","promos","addPromos","promosFailed","PROMOS_LOADING","PROMOS_FAILED","commentsFailed","COMMENTS_FAILED","fetchComments","comments","addComments","ADD_COMMENTS","ADD_DISHES","ADD_PROMOS","fetchLeaders","leadersLoading","addLeaders","leadersFailed","LEADERS_LOADING","LEADERS_FAILED","leaders","ADD_LEADERS"],"mappings":"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","sourcesContent":["import * as ActionTypes from \"./ActionTypes\";\r\nimport { baseUrl } from \"../shared/baseUrl\";\r\n\r\nexport const addComment = (comment) => ({\r\n  type: ActionTypes.ADD_COMMENT,\r\n  payload: comment,\r\n});\r\n\r\nexport const postComment = (dishId, rating, author, comment) => (dispatch) => {\r\n  const newComment = {\r\n    dishId: dishId,\r\n    rating: rating,\r\n    author: author,\r\n    comment: comment,\r\n  };\r\n  newComment.date = new Date().toISOString();\r\n\r\n  return fetch(baseUrl + \"comments\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(newComment),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: \"same-origin\",\r\n  })\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \": \" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        var err = new Error(error.message);\r\n        throw err;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .then((response) => dispatch(addComment(response)))\r\n    .catch((error) => {\r\n      console.log(\"post comments\", error.message);\r\n      alert(\"Your comment could not be posted\\nError: \" + error.message);\r\n    });\r\n};\r\n\r\nexport const postFeedback = (\r\n  firstname,\r\n  lastname,\r\n  telnum,\r\n  email,\r\n  agree,\r\n  contactType,\r\n  message\r\n) => (dispatch) => {\r\n  const newFeedback = {\r\n    firstname: firstname,\r\n    lastname: lastname,\r\n    telnum: telnum,\r\n    email: email,\r\n    agree: agree,\r\n    contactType: contactType,\r\n    message: message,\r\n  };\r\n\r\n  newFeedback.date = new Date().toISOString();\r\n\r\n  return fetch(baseUrl + \"feedback\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(newFeedback),\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    credentials: \"same-origin\",\r\n  })\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \":\" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        var err = new Error(error.message);\r\n        throw err;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .catch((error) => {\r\n      console.log(\"Post Feedback\", error.message);\r\n      alert(\"Your comment could not be posted\\n error: \" + error.message);\r\n    });\r\n};\r\n\r\nexport const fetchDishes = () => (dispatch) => {\r\n  dispatch(dishesLoading(true));\r\n\r\n  return fetch(baseUrl + \"dishes\")\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \": \" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        var err = new Error(error.message);\r\n        throw err;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .then((dishes) => dispatch(addDishes(dishes)))\r\n    .catch((error) => {\r\n      dispatch(dishesFailed(error.message));\r\n    });\r\n};\r\n\r\nexport const dishesLoading = () => ({\r\n  type: ActionTypes.DISHES_LOADING,\r\n});\r\n\r\nexport const dishesFailed = (err) => ({\r\n  type: ActionTypes.DISHES_FAILED,\r\n  payload: err,\r\n});\r\n\r\nexport const fetchPromos = () => (dispatch) => {\r\n  dispatch(promosLoading(true));\r\n\r\n  return fetch(baseUrl + \"promotions\")\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \":\" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        var err = new Error(error.message);\r\n        throw err;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .then((promos) => dispatch(addPromos(promos)))\r\n    .catch((error) => dispatch(promosFailed(error.message)));\r\n};\r\n\r\nexport const promosLoading = () => ({\r\n  type: ActionTypes.PROMOS_LOADING,\r\n});\r\n\r\nexport const promosFailed = (err) => ({\r\n  type: ActionTypes.PROMOS_FAILED,\r\n  payload: err,\r\n});\r\n\r\nexport const commentsFailed = (err) => ({\r\n  type: ActionTypes.COMMENTS_FAILED,\r\n  payload: err,\r\n});\r\n\r\nexport const fetchComments = () => (dispatch) => {\r\n  return fetch(baseUrl + \"comments\")\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \":\" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        var err = new Error(error.message);\r\n        throw err;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .then((comments) => dispatch(addComments(comments)))\r\n    .catch((error) => dispatch(commentsFailed(error.message)));\r\n};\r\n\r\nexport const addComments = (comments) => ({\r\n  type: ActionTypes.ADD_COMMENTS,\r\n  payload: comments,\r\n});\r\n\r\nexport const addDishes = (dishes) => ({\r\n  type: ActionTypes.ADD_DISHES,\r\n  payload: dishes,\r\n});\r\n\r\nexport const addPromos = (promos) => ({\r\n  type: ActionTypes.ADD_PROMOS,\r\n  payload: promos,\r\n});\r\n\r\nexport const fetchLeaders = () => (dispatch) => {\r\n  dispatch(leadersLoading(true));\r\n\r\n  return fetch(baseUrl + \"leaders\")\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \":\" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        var err = new Error(error.message);\r\n        throw err;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .then((dishes) => dispatch(addLeaders(dishes)))\r\n    .catch((error) => {\r\n      dispatch(leadersFailed(error.message));\r\n    });\r\n};\r\n\r\nexport const leadersLoading = () => ({\r\n  type: ActionTypes.LEADERS_LOADING,\r\n});\r\n\r\nexport const leadersFailed = (err) => ({\r\n  type: ActionTypes.LEADERS_FAILED,\r\n  payload: err,\r\n});\r\n\r\nexport const addLeaders = (leaders) => ({\r\n  type: ActionTypes.ADD_LEADERS,\r\n  payload: leaders,\r\n});\r\n"]},"metadata":{},"sourceType":"module"}