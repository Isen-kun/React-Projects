{"ast":null,"code":"import _classCallCheck from\"D:\\\\Progs\\\\Github Repos\\\\React-Projects\\\\confusion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Progs\\\\Github Repos\\\\React-Projects\\\\confusion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"D:\\\\Progs\\\\Github Repos\\\\React-Projects\\\\confusion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"D:\\\\Progs\\\\Github Repos\\\\React-Projects\\\\confusion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Home from\"./HomeComponent\";import About from\"./AboutComponent\";import Header from\"./HeaderComponent\";import Footer from\"./FooterComponent\";import Menu from\"./MenuComponent\";import DishDetail from\"./DishdetailComponent\";import Contact from\"./ContactComponent\";import{Switch,Route,Redirect,withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{postComment as _postComment,postFeedback as _postFeedback,fetchDishes as _fetchDishes,fetchComments as _fetchComments,fetchPromos as _fetchPromos,fetchLeaders as _fetchLeaders}from\"../redux/ActionCreators\";import{actions}from\"react-redux-form\";import{TransitionGroup,CSSTransition}from\"react-transition-group\";var mapStateToProps=function mapStateToProps(state){return{dishes:state.dishes,leaders:state.leaders,comments:state.comments,promotions:state.promotions};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{postComment:function postComment(dishId,rating,author,comment){return dispatch(_postComment(dishId,rating,author,comment));},postFeedback:function postFeedback(firstname,lastname,telnum,email,agree,contactType,message){return dispatch(_postFeedback(firstname,lastname,telnum,email,agree,contactType,message));},fetchDishes:function fetchDishes(){dispatch(_fetchDishes());},fetchComments:function fetchComments(){dispatch(_fetchComments());},fetchPromos:function fetchPromos(){dispatch(_fetchPromos());},fetchLeaders:function fetchLeaders(){dispatch(_fetchLeaders());},resetFeedbackForm:function resetFeedbackForm(){dispatch(actions.reset(\"feedback\"));}};};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){_classCallCheck(this,Main);return _super.call(this,props);}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchComments();this.props.fetchDishes();this.props.fetchPromos();this.props.fetchLeaders();}},{key:\"onDishSelect\",value:function onDishSelect(dishId){this.setState({selectedDish:dishId});}},{key:\"render\",value:function render(){var _this=this;var HomePage=function HomePage(){return/*#__PURE__*/React.createElement(Home,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.featured;})[0],dishesLoading:_this.props.dishes.isLoading,dishesErr:_this.props.dishes.err,promotion:_this.props.promotions.promotions.filter(function(promo){return promo.featured;})[0],promosLoading:_this.props.promotions.isLoading,promosErr:_this.props.promotions.err,leader:_this.props.leaders.leaders.filter(function(leader){return leader.featured;})[0],leadersLoading:_this.props.leaders.isLoading,leadersErr:_this.props.leaders.err});};var DishWithId=function DishWithId(_ref){var match=_ref.match;return/*#__PURE__*/React.createElement(DishDetail,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.id===parseInt(match.params.dishId,10);})[0],isLoading:_this.props.dishes.isLoading,err:_this.props.dishes.err,comments:_this.props.comments.comments.filter(function(comment){return comment.dishId===parseInt(match.params.dishId,10);}),errComments:_this.props.comments.err,postComment:_this.props.postComment});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(TransitionGroup,null,/*#__PURE__*/React.createElement(CSSTransition,{key:this.props.location.key,classNames:\"page\",timeout:300},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/aboutus\",component:function component(){return/*#__PURE__*/React.createElement(About,{leaders:_this.props.leaders});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/menu\",component:function component(){return/*#__PURE__*/React.createElement(Menu,{dishes:_this.props.dishes});}}),/*#__PURE__*/React.createElement(Route,{path:\"/menu/:dishId\",component:DishWithId}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/contactus\",component:function component(){return/*#__PURE__*/React.createElement(Contact,{resetFeedbackForm:_this.props.resetFeedbackForm,postFeedback:_this.props.postFeedback});}}),/*#__PURE__*/React.createElement(Redirect,{to:\"/home\"})))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Main;}(Component);export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));","map":{"version":3,"sources":["D:/Progs/Github Repos/React-Projects/confusion/src/components/MainComponent.js"],"names":["React","Component","Home","About","Header","Footer","Menu","DishDetail","Contact","Switch","Route","Redirect","withRouter","connect","postComment","postFeedback","fetchDishes","fetchComments","fetchPromos","fetchLeaders","actions","TransitionGroup","CSSTransition","mapStateToProps","state","dishes","leaders","comments","promotions","mapDispatchToProps","dispatch","dishId","rating","author","comment","firstname","lastname","telnum","email","agree","contactType","message","resetFeedbackForm","reset","Main","props","setState","selectedDish","HomePage","filter","dish","featured","isLoading","err","promo","leader","DishWithId","match","id","parseInt","params","location","key"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Home from \"./HomeComponent\";\r\nimport About from \"./AboutComponent\";\r\nimport Header from \"./HeaderComponent\";\r\nimport Footer from \"./FooterComponent\";\r\nimport Menu from \"./MenuComponent\";\r\nimport DishDetail from \"./DishdetailComponent\";\r\nimport Contact from \"./ContactComponent\";\r\nimport { Switch, Route, Redirect, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  postComment,\r\n  postFeedback,\r\n  fetchDishes,\r\n  fetchComments,\r\n  fetchPromos,\r\n  fetchLeaders,\r\n} from \"../redux/ActionCreators\";\r\nimport { actions } from \"react-redux-form\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dishes: state.dishes,\r\n    leaders: state.leaders,\r\n    comments: state.comments,\r\n    promotions: state.promotions,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  postComment: (dishId, rating, author, comment) =>\r\n    dispatch(postComment(dishId, rating, author, comment)),\r\n  postFeedback: (\r\n    firstname,\r\n    lastname,\r\n    telnum,\r\n    email,\r\n    agree,\r\n    contactType,\r\n    message\r\n  ) =>\r\n    dispatch(\r\n      postFeedback(\r\n        firstname,\r\n        lastname,\r\n        telnum,\r\n        email,\r\n        agree,\r\n        contactType,\r\n        message\r\n      )\r\n    ),\r\n  fetchDishes: () => {\r\n    dispatch(fetchDishes());\r\n  },\r\n  fetchComments: () => {\r\n    dispatch(fetchComments());\r\n  },\r\n  fetchPromos: () => {\r\n    dispatch(fetchPromos());\r\n  },\r\n  fetchLeaders: () => {\r\n    dispatch(fetchLeaders());\r\n  },\r\n  resetFeedbackForm: () => {\r\n    dispatch(actions.reset(\"feedback\"));\r\n  },\r\n});\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchComments();\r\n    this.props.fetchDishes();\r\n    this.props.fetchPromos();\r\n    this.props.fetchLeaders();\r\n  }\r\n\r\n  onDishSelect(dishId) {\r\n    this.setState({\r\n      selectedDish: dishId,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const HomePage = () => {\r\n      return (\r\n        <Home\r\n          dish={this.props.dishes.dishes.filter((dish) => dish.featured)[0]}\r\n          dishesLoading={this.props.dishes.isLoading}\r\n          dishesErr={this.props.dishes.err}\r\n          promotion={\r\n            this.props.promotions.promotions.filter(\r\n              (promo) => promo.featured\r\n            )[0]\r\n          }\r\n          promosLoading={this.props.promotions.isLoading}\r\n          promosErr={this.props.promotions.err}\r\n          leader={\r\n            this.props.leaders.leaders.filter((leader) => leader.featured)[0]\r\n          }\r\n          leadersLoading={this.props.leaders.isLoading}\r\n          leadersErr={this.props.leaders.err}\r\n        />\r\n      );\r\n    };\r\n\r\n    const DishWithId = ({ match }) => {\r\n      return (\r\n        <DishDetail\r\n          dish={\r\n            this.props.dishes.dishes.filter(\r\n              (dish) => dish.id === parseInt(match.params.dishId, 10)\r\n            )[0]\r\n          }\r\n          isLoading={this.props.dishes.isLoading}\r\n          err={this.props.dishes.err}\r\n          comments={this.props.comments.comments.filter(\r\n            (comment) => comment.dishId === parseInt(match.params.dishId, 10)\r\n          )}\r\n          errComments={this.props.comments.err}\r\n          postComment={this.props.postComment}\r\n        />\r\n      );\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <TransitionGroup>\r\n          <CSSTransition\r\n            key={this.props.location.key}\r\n            classNames=\"page\"\r\n            timeout={300}\r\n          >\r\n            <Switch>\r\n              <Route path=\"/home\" component={HomePage} />\r\n              <Route\r\n                exact\r\n                path=\"/aboutus\"\r\n                component={() => <About leaders={this.props.leaders} />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/menu\"\r\n                component={() => <Menu dishes={this.props.dishes} />}\r\n              />\r\n              <Route path=\"/menu/:dishId\" component={DishWithId} />\r\n              <Route\r\n                exact\r\n                path=\"/contactus\"\r\n                component={() => (\r\n                  <Contact\r\n                    resetFeedbackForm={this.props.resetFeedbackForm}\r\n                    postFeedback={this.props.postFeedback}\r\n                  />\r\n                )}\r\n              />\r\n              <Redirect to=\"/home\" />\r\n            </Switch>\r\n          </CSSTransition>\r\n        </TransitionGroup>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));\r\n"]},"metadata":{},"sourceType":"module"}